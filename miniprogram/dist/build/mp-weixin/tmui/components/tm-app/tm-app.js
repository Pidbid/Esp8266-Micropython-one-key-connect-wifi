"use strict";var e=Object.defineProperty,o=Object.defineProperties,t=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,l=(o,t,r)=>t in o?e(o,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[t]=r,u=require("../../../common/vendor.js"),i=require("../../tool/lib/tmpinia.js"),c=require("../../tool/lib/minxs.js");require("../../tool/theme/theme.js"),require("../../tool/theme/colortool.js"),require("../../tool/lib/interface.js"),require("../../../theme/index.js"),require("../../tool/function/util.js"),require("../../tool/function/preview.js");const f=u.defineComponent({props:(d=((e,o)=>{for(var t in o||(o={}))a.call(o,t)&&l(e,t,o[t]);if(r)for(var t of r(o))n.call(o,t)&&l(e,t,o[t]);return e})({},c.custom_props),b={theme:{type:String,default:"grey-5"},bgImg:{type:String,default:""},color:{type:String,default:"grey-4"},blur:{type:[Boolean,String],default:!1},navbar:{type:Object,default:()=>({background:"#ffffff",fontColor:"#000000"})},tabar:{type:Object,default:()=>({background:"#ffffff",fontColor:"#222222"})}},o(d,t(b))),setup(e,{expose:o}){const t=e,r=i.useTmpiniaStore(),a=u.computed$1((()=>r.tmStore)),n=u.computed$1((()=>c.computedDark(t,a.value))),l=u.computed$1((()=>c.computedTheme(t,n.value))),{safeArea:f,windowWidth:d,windowHeight:b,statusBarHeight:p}=u.index.getSystemInfoSync(),s=(null==f?void 0:f.width)||d;let g=(null==f?void 0:f.height)-44;g=null==f?void 0:f.height;let h=u.ref({width:s,height:g,theme:l.value.backgroundColor,bgImg:t.bgImg,dark:n.value});function m(){n.value?h.value.theme="#050505":h.value.theme=l.value.backgroundColor,u.index.setBackgroundColor({backgroundColor:h.value.theme,backgroundColorBottom:h.value.theme,backgroundColorTop:h.value.theme}).catch((e=>{})),n.value?(u.index.setNavigationBarColor({backgroundColor:h.value.theme,frontColor:"#ffffff"}).catch((e=>{})),u.index.setTabBarStyle({backgroundColor:"#000000",borderStyle:"#1a1a1a",color:"#ffffff"}).catch((e=>{}))):(u.index.setNavigationBarColor({backgroundColor:t.navbar.background,frontColor:t.navbar.fontColor}).catch((e=>{})),u.index.setTabBarStyle({backgroundColor:t.navbar.background,borderStyle:"#888888",color:t.navbar.fontColor}).catch((e=>{})))}return m(),u.provide("appTextColor",u.computed$1((()=>l.value.textColor))),u.provide("custom_space_size",[0,0]),o({setTheme:function(e){r.setTmVuetifyTheme(e)},setDark:function(e){let o=!n.value;void 0!==e&&"boolean"==typeof e&&(o=e),h.value.dark=o,r.setTmVuetifyDark(o)}}),u.onBeforeMount((()=>m())),u.watch([a,n],(()=>{m()}),{deep:!0}),(o,t)=>({a:u.n(e.blur?"blur":""),b:u.s({zIndex:1,width:u.unref(h).width+"px",minHeight:u.unref(h).height+"px"}),c:u.s(e.blur?{backgroundColor:u.unref(n)?"rgba(0,0,0,0.3)":"rgba(248, 248, 248, 0.7)"}:""),d:u.s(u.unref(h).theme?{background:u.unref(h).theme}:""),e:u.s({width:u.unref(h).width+"px",minHeight:u.unref(h).height+"px"})})}});var d,b;wx.createComponent(f);
