"use strict";var e=require("../../../common/vendor.js"),t=require("../../tool/lib/tmpinia.js");require("../../tool/theme/theme.js"),require("../../tool/theme/colortool.js"),require("../../tool/lib/interface.js"),require("../../../theme/index.js"),require("../../tool/function/util.js"),require("../../tool/function/preview.js"),Math||(a+r+o+l+n)();const l=()=>"../tm-sheet/tm-sheet.js",o=()=>"../tm-text/tm-text.js",a=()=>"../tm-icon/tm-icon.js",r=()=>"../tm-translate/tm-translate.js",n=()=>"../tm-overlay/tm-overlay.js",i=e.defineComponent({props:{_style:{type:[Array,String,Object],default:()=>{}},_class:{type:[Array,String],default:"flex-center"},mask:{type:[Boolean,String],default:!1},duration:{type:Number,default:1300}},emits:["click"],setup(l,{expose:o,emit:a}){const r=l,n=t.useTmpiniaStore(),{proxy:i}=e.getCurrentInstance(),u=e.ref(e.index.$tm.u.getUid(5)),c=e.ref("white"),s=e.ref("info"),v=e.ref(!1),m=e.ref(""),f=e.ref(""),d=e.ref(""),p=e.ref(!1),y=e.ref(0),x=e.ref(!1),h=e.ref(r.mask),b=e.ref(null);e.onUnmounted((()=>clearTimeout(u.value))),e.watch((()=>r.mask),(e=>h.value=e));const j=e.computed$1((()=>({load:{icon:"tmicon-loading",color:"primary",text:"加载中"},error:{icon:"tmicon-times-circle",color:"red",text:"操作错误"},info:{icon:"tmicon-info-circle",text:"提示信息",color:"black"},warn:{icon:"tmicon-exclamation-circle",text:"警告信息",color:"orange"},quest:{icon:"tmicon-question-circle",text:"似乎有问题",color:"pink"},success:{icon:"tmicon-check-circle",text:"操作成功",color:"green"},disabled:{icon:"tmicon-ban",text:"禁止操作",color:"red"},wait:{icon:"tmicon-ios-alarm",text:"请稍候..",color:"black"}})));function k(){var e;!x.value&&(null==(e=i.$refs)?void 0:e.tranAni)&&(x.value=!0,y.value>0&&"load"!=s.value&&(clearTimeout(u.value),u.value=setTimeout((function(){var e;if(p.value=!0,!(null==(e=i.$refs)?void 0:e.tranAni))return p.value=!1,v.value=!1,x.value=!1,void clearTimeout(u.value);i.$refs.tranAni.play(),u.value=setTimeout((function(){p.value=!1,v.value=!1,x.value=!1}),100)}),y.value)))}return o({show:function(){clearTimeout(u.value);let t="object"==typeof arguments[0]?arguments[0]:{},{duration:l,icon:o,text:a,color:k,dark:g,model:w,mask:q}=t;s.value=null!=w?w:s.value,m.value=o=null!=o?o:j.value[s.value].icon,f.value=a=null!=a?a:j.value[s.value].text,d.value=k=null!=k?k:j.value[s.value].color,h.value="boolean"==typeof q?q:h.value,!0===g&&(c.value="black"),"boolean"!=typeof g&&(g=n.tmStore.dark),"white"!=d.value&&"black"!=d.value||(d.value=""),b.value=g,void 0===l&&(l=r.duration),y.value=isNaN(parseInt(l))?1500:parseInt(l),v.value=!0,e.nextTick((function(){x.value=!1,p.value=!1,i.$refs.tranAni.play()}))},hide:function(){clearTimeout(u.value),v.value=!1}}),(t,l)=>({a:e.p({_style:"line-height: normal",_class:"pa-10",spin:"load"==s.value,color:d.value,fontSize:72,name:m.value}),b:e.p({name:"zoom",delay:200}),c:e.p({"font-size":30,_class:"pt-8 text-overflow-1",label:f.value}),d:e.p({blur:!0,_style:r._style,_class:r._class,color:c.value,border:1,shadow:6,width:300,height:300,margin:[10,10],round:12,padding:[24,0]}),e:e.sr("tranAni","f3235f30-1,f3235f30-0"),f:e.o(k),g:e.p({reverse:p.value,name:"zoom",duration:150,"auto-play":!1}),h:e.o((e=>v.value=e)),i:e.p({transprent:!h.value,_style:{zIndex:"500 !important"},overlayClick:!1,show:v.value})})}});wx.createComponent(i);
