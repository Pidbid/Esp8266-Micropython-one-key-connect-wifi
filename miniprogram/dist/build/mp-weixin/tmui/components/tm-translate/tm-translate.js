"use strict";var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,n=require("../../../common/vendor.js"),o=require("../../tool/lib/minxs.js");require("../../tool/theme/theme.js"),require("../../tool/theme/colortool.js"),require("../../tool/lib/interface.js"),require("../../../theme/index.js");const s=n.defineComponent({props:(d=((e,t)=>{for(var a in t||(t={}))u.call(t,a)&&i(e,a,t[a]);if(l)for(var a of l(t))r.call(t,a)&&i(e,a,t[a]);return e})({},o.custom_props),p={duration:{type:Number,default:200},delay:{type:Number,default:0},name:{type:String,default:"fade"},autoPlay:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},height:{type:[Number,String],default:0},width:{type:[Number,String],default:0},reverse:{type:[Boolean,String],default:!1}},t(d,a(p))),emits:["start","end","click"],setup(e,{expose:t,emit:a}){const l=e;function u(e){a("click",e)}const r=n.computed$1((()=>o.computedStyle(l))),i=n.computed$1((()=>o.computedClass(l))),s=n.computed$1((()=>l.height&&Number(l.height)?String(l.height).indexOf("px")>-1||String(l.height).indexOf("rpx")>-1?String(l.height):String(l.height)+"rpx":0)),d=n.computed$1((()=>l.width?String(l.width).indexOf("px")>-1||String(l.width).indexOf("rpx")>-1?l.width:l.width+"rpx":0)),p=n.computed$1((()=>l.name||"fade")),f=n.computed$1((()=>l.duration)),c=n.computed$1((()=>l.reverse)),v=n.computed$1((()=>c.value?"-reverse":"")),m=n.ref(0),h=n.ref(Number(n.index.$tm.u.getUid(3))),b=n.ref(!1),g=n.ref(null);function y(){n.nextTick((()=>{b.value=!0,1!=l.autoPlay||l.disabled||x()}))}function x(){1!=l.disabled&&(m.value=0,g.value=null,n.nextTick((function(){var e=n.index.createAnimation({duration:f.value,timingFunction:"ease",delay:20});if(clearTimeout(h.value),"fade"==p.value){let t=c.value?1:0;e.opacity(t).step({duration:0})}else if("up"==p.value){let t=c.value?"-101%":"0%";e.translateY(t).step({duration:0})}else if("down"==p.value){let t=c.value?"101%":"0%";e.translateY(t).step({duration:0})}else if("left"==p.value){let t=c.value?"-101%":"0%";e.translateX(t).step({duration:0})}else if("right"==p.value){let t=c.value?"101%":"0";e.translateX(t).step({duration:0})}else if("zoom"==p.value){let t=c.value?[1,1]:[0,0],a=c.value?1:0;e.scale(...t).opacity(a).step({duration:0})}g.value=e.export(),h.value=setTimeout((function(){if("fade"==p.value){let t=c.value?0:1;e.opacity(t).step()}else if("up"==p.value){let t=c.value?"0%":"-101%";e.translateY(t).step()}else if("down"==p.value){let t=c.value?"0%":"101%";e.translateY(t).step()}else if("left"==p.value){let t=c.value?"0%":"-101%";e.translateX(t).step()}else if("right"==p.value){let t=c.value?"0":"101%";e.translateX(t).step()}else if("zoom"==p.value){let t=c.value?[0,0]:[1,1],a=c.value?0:1;e.scale(...t).opacity(a).step()}a("start"),g.value=e.export(),m.value=1,clearTimeout(h.value),h.value=setTimeout((function(){a("end"),m.value=2}),f.value)}),20)})))}function w(){1!=l.disabled&&(clearTimeout(l.tmid.value),m.value=0)}return t({init:y,play:x,stop:w,reset:function(){1!=l.disabled&&(w(),m.value=0)}}),n.onMounted((()=>y())),n.onUnmounted((()=>{clearTimeout(h.value),m.value=0})),(e,t)=>n.e({a:b.value},b.value?{b:g.value,c:n.n(n.unref(p)+n.unref(v)),d:n.n(n.unref(i))}:{},{e:n.o(u),f:n.n(n.unref(i)),g:n.s(n.unref(s)?{height:n.unref(s)}:""),h:n.s(n.unref(d)?{width:n.unref(d)}:""),i:n.s(n.unref(r))})}});var d,p,f=n._export_sfc(s,[["__scopeId","data-v-dcc93ba2"]]);wx.createComponent(f);
