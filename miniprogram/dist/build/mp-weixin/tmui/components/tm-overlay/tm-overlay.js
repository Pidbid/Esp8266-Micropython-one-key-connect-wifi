"use strict";var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,u=(t,o,r)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[o]=r,i=require("../../../common/vendor.js"),l=require("../../tool/lib/minxs.js");require("../../tool/theme/theme.js"),require("../../tool/theme/colortool.js"),require("../../tool/lib/interface.js"),require("../../../theme/index.js");const s=i.defineComponent({props:(p=((e,t)=>{for(var o in t||(t={}))n.call(t,o)&&u(e,o,t[o]);if(r)for(var o of r(t))a.call(t,o)&&u(e,o,t[o]);return e})({},l.custom_props),c={align:{type:String,default:"flex-center"},bgColor:{type:String,default:"rgba(0,0,0,0.2)"},zIndex:{type:[Number,String],default:120},show:{type:Boolean,default:!1},overlayClick:{type:Boolean,default:!0},transprent:{type:[Boolean,String],default:!1},duration:{type:Number,default:300}},t(p,o(c))),emits:["click","open","close","update:show"],setup(e,{expose:t,emit:o}){const r=e,n=l.computedStyle(r),a=l.computedClass(r),u=i.ref(0),s=i.ref(0),p=i.ref(0),{windowTop:c,windowWidth:d,windowHeight:f,safeArea:m,statusBarHeight:b}=i.index.getSystemInfoSync();u.value=d,s.value=f+(c||0),s.value=f;const g=i.ref(i.index.$tm.u.getUid(3)),v=i.ref(null),y=i.ref(!1);i.onUnmounted((()=>clearTimeout(g.value)));const h=i.computed$1((()=>r.align)),w=i.computed$1((()=>!r.bgColor||r.transprent?"rgba(0,0,0,0)":r.bgColor||"rgba(0,0,0,0.2)"));function x(e){e.stopPropagation(),o("click",e),r.overlayClick&&j(!1)}function j(e){!function(e=!1){let t=i.index.createAnimation({duration:r.duration,timingFunction:"ease",delay:0});if(t.opacity(e?1:0).step(),v.value=t.export(),0==e){if(y.value==e)return;i.index.$tm.u.debounce((function(){y.value=e,o("close"),o("update:show",!1)}),r.duration,!1)}else y.value=e,o("open")}(e)}return i.onMounted((()=>{r.show&&j(r.show)})),i.watch((()=>r.show),(e=>j(e))),t({close:x,open:j}),(t,o)=>i.e({a:y.value},y.value?{b:i.o(x),c:i.n(i.unref(w)&&!r.transprent?"blurbg":""),d:i.n(i.unref(h)),e:i.n(i.unref(a)),f:i.s(i.unref(w)&&!r.transprent?{backgroundColor:y.value?i.unref(w):""}:""),g:i.s({position:"fixed"}),h:i.s(e.zIndex?{zIndex:e.zIndex}:""),i:i.s({width:u.value+"px",height:s.value+"px",top:p.value+"px"}),j:i.s(i.unref(n)),k:v.value}:{})}});var p,c,d=i._export_sfc(s,[["__scopeId","data-v-56b92086"]]);wx.createComponent(d);
